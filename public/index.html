<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ELYOT</title>
    <!-- TailwindCSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Configuration Tailwind pour le dark mode -->
    <script>
      tailwind.config = {
        darkMode: "class",
      };
    </script>
    <!-- Vue 3 CDN -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <!-- Dexie.js CDN for IndexedDB -->
    <script src="https://unpkg.com/dexie@3/dist/dexie.js"></script>
    <!-- SheetJS CDN for Excel parsing -->
    <script src="https://unpkg.com/xlsx/dist/xlsx.full.min.js"></script>
    <!-- html2pdf.js CDN for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <!-- EmailJS SDK CDN -->
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"
    ></script>
    <!-- ApexCharts CDN for charting -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script> -->

    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

    <style>
      .loader {
        border-top-color: #3498db;
        animation: spin 1s linear infinite;
      }
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* Amélioration du mode dark */
      .dark {
        color-scheme: dark;
      }

      /* Couleurs optimisées pour le dark mode */
      .dark input:not([type="checkbox"]):not([type="radio"]),
      .dark select,
      .dark textarea {
        background-color: #374151;
        border-color: #4b5563;
        color: #f9fafb;
      }

      .dark input:not([type="checkbox"]):not([type="radio"]):focus,
      .dark select:focus,
      .dark textarea:focus {
        border-color: #60a5fa;
        outline: none;
        ring: 2px;
        ring-color: #60a5fa;
      }

      .dark input[readonly],
      .dark input[disabled] {
        background-color: #1f2937;
        color: #9ca3af;
        cursor: not-allowed;
      }

      /* Tables en dark mode */
      .dark table {
        border-color: #374151;
      }

      .dark th {
        background-color: #1f2937;
        color: #f9fafb;
      }

      .dark td {
        border-color: #374151;
        color: #e5e7eb;
      }

      .dark tbody tr:hover {
        background-color: #374151;
      }

      /* Boutons en dark mode */
      .dark
        button:not(.bg-blue-600):not(.bg-green-600):not(.bg-red-600):not(
          .bg-purple-600
        ):not(.bg-pink-600):not(.bg-yellow-600) {
        background-color: #374151;
        color: #f9fafb;
      }

      .dark
        button:not(.bg-blue-600):not(.bg-green-600):not(.bg-red-600):not(
          .bg-purple-600
        ):not(.bg-pink-600):not(.bg-yellow-600):hover {
        background-color: #4b5563;
      }

      /* Modals en dark mode */
      .dark .modal-content {
        background-color: #1f2937;
        color: #f9fafb;
      }

      /* Styles d'impression */
      @media print {
        /* Masquer tout sauf le contenu de la facture */
        body > *:not(#facture-preview-block) {
          display: none !important;
        }

        #facture-preview-block {
          display: block !important;
          margin: 0 !important;
          padding: 0 !important;
          max-height: none !important;
          overflow: visible !important;
          border: none !important;
          box-shadow: none !important;
        }

        /* Forcer les couleurs à l'impression */
        * {
          -webkit-print-color-adjust: exact !important;
          print-color-adjust: exact !important;
          color-adjust: exact !important;
        }

        /* Gérer les sauts de page */
        table {
          page-break-inside: auto;
        }

        tr {
          page-break-inside: avoid;
          page-break-after: auto;
        }

        thead {
          display: table-header-group;
        }

        tfoot {
          display: table-footer-group;
        }

        /* Éviter les sauts de page après ces éléments */
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
          page-break-after: avoid;
        }

        /* Marges de page */
        @page {
          margin: 1.5cm;
          size: A4 portrait;
        }

        /* S'assurer que les logos s'impriment */
        img {
          max-width: 100% !important;
          height: auto !important;
          page-break-inside: avoid;
          -webkit-print-color-adjust: exact !important;
          print-color-adjust: exact !important;
        }
      }

      /* Cards et sections */
      .dark .bg-gray-50 {
        background-color: #374151 !important;
      }

      .dark .bg-gray-100 {
        background-color: #4b5563 !important;
      }

      /* Scrollbar en dark mode */
      .dark ::-webkit-scrollbar {
        width: 12px;
        height: 12px;
      }

      .dark ::-webkit-scrollbar-track {
        background: #1f2937;
      }

      .dark ::-webkit-scrollbar-thumb {
        background: #4b5563;
        border-radius: 6px;
      }

      .dark ::-webkit-scrollbar-thumb:hover {
        background: #6b7280;
      }

      /* Badges en dark mode */
      .dark .bg-yellow-100 {
        background-color: #78350f !important;
      }

      .dark .text-yellow-800 {
        color: #fef3c7 !important;
      }

      .dark .bg-blue-100 {
        background-color: #1e3a8a !important;
      }

      .dark .text-blue-800 {
        color: #dbeafe !important;
      }

      /* Amélioration des bordures */
      .dark .border {
        border-color: #4b5563;
      }

      .dark .border-t,
      .dark .border-b,
      .dark .border-l,
      .dark .border-r {
        border-color: #4b5563;
      }

      /* Placeholders */
      .dark ::placeholder {
        color: #9ca3af;
        opacity: 1;
      }
    </style>
  </head>
  <body>
    <div id="app"></div>

    <!-- Dexie DB config -->
    <script src="../src/store/db.js"></script>
    <!-- Stores -->
    <script src="../src/store/stores.js"></script>
    <!-- Helpers (doit être chargé avant pages.js et App.vue.js) -->
    <script src="../src/utils/helpers.js"></script>
    <!-- Pages Components -->
    <script src="../src/pages/pages.js"></script>
    <script src="../src/pages/Dashboard.js"></script>
    <script src="../src/pages/Clients.js"></script>
    <script src="../src/pages/Fournisseurs.js"></script>
    <script src="../src/pages/Taxes.js"></script>
    <script src="../src/pages/Unites.js"></script>
    <script src="../src/pages/Categories.js"></script>
    <script src="../src/pages/Designations.js"></script>
    <script src="../src/pages/Factures.js"></script>
    <script src="../src/pages/BonsCommandes.js"></script>
    <script src="../src/pages/Parametres.js"></script>
    <script src="../src/pages/ImportExport.js"></script>
    <!-- App.vue.js (si utilisé explicitement) -->
    <script src="../src/components/App.vue.js"></script>
    <!-- Main Vue App Script: always last, after all dependencies -->
    <script type="module" src="../src/app.js"></script>
  </body>
</html>
